@tailwind base;
@tailwind components;
@tailwind utilities;

/* DM Sans Font - Using Google Fonts CDN for better compatibility */
/* Local fonts are also available in /fonts/DM_Sans/static/ as fallback */
/* Google Fonts provides better browser compatibility and caching */

/* Fade-in animation */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

/* Ensure market title is very bold */
.market-title {
  font-weight: 900 !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Reduce IonCard shadow to be subtle */
ion-card {
  --box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.03) !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.03) !important;
}

.dark ion-card {
  --box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 2px 0 rgba(0, 0, 0, 0.15) !important;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.2), 0 1px 2px 0 rgba(0, 0, 0, 0.15) !important;
}

/* Dark theme base styles */
.dark {
  --ion-background-color: #111827; /* gray-900 */
  --ion-background-color-rgb: 17, 24, 39;
  --ion-text-color: #ffffff;
  --ion-text-color-rgb: 255, 255, 255;
  --ion-border-color: #374151; /* gray-700 */
  --ion-color-step-50: #1f2937; /* gray-800 */
  --ion-color-step-100: #374151; /* gray-700 */
  --ion-color-step-150: #4b5563; /* gray-600 */
  --ion-color-step-200: #6b7280; /* gray-500 */
  --ion-color-step-250: #9ca3af; /* gray-400 */
  --ion-color-step-300: #d1d5db; /* gray-300 */
  --ion-color-step-350: #e5e7eb; /* gray-200 */
  --ion-color-step-400: #f3f4f6; /* gray-100 */
  --ion-color-step-450: #f9fafb; /* gray-50 */
  --ion-color-step-500: #ffffff;
  --ion-color-step-550: #ffffff;
  --ion-color-step-600: #ffffff;
  --ion-color-step-650: #ffffff;
  --ion-color-step-700: #ffffff;
  --ion-color-step-750: #ffffff;
  --ion-color-step-800: #ffffff;
  --ion-color-step-850: #ffffff;
  --ion-color-step-900: #ffffff;
  --ion-color-step-950: #ffffff;
}

/* Override Ionic header and toolbar dark mode */
.dark ion-header {
  --background: #111827 !important; /* gray-900 */
  background: #111827 !important;
  background-color: #111827 !important;
}

/* Light mode toolbar and title - dark gray instead of black */
ion-toolbar {
  --color: #374151 !important; /* gray-700 - dark gray instead of black */
  color: #374151 !important;
}

ion-title {
  --color: #374151 !important; /* gray-700 - dark gray instead of black */
  color: #374151 !important;
}

.dark ion-toolbar {
  --background: #111827 !important; /* gray-900 */
  --color: #ffffff !important;
  background: #111827 !important;
  background-color: #111827 !important;
  color: #ffffff !important;
}

.dark ion-title {
  --color: #ffffff !important;
  color: #ffffff !important;
}

/* Override Ionic components dark mode text colors */
.dark ion-item {
  --color: #ffffff;
  color: #ffffff;
}

.dark ion-label {
  --color: #ffffff;
  color: #ffffff;
}

.dark ion-segment {
  --background: #1f2937; /* gray-800 */
}

.dark ion-segment-button {
  --color: #9ca3af; /* gray-400 */
  --color-checked: #ffffff;
  --indicator-color: #f7b801; /* primary color */
}

/* Light theme base styles */
.light {
  --ion-background-color: #ffffff;
  --ion-background-color-rgb: 255, 255, 255;
  --ion-text-color: #000000;
  --ion-text-color-rgb: 0, 0, 0;
  --ion-border-color: #e0e0e0;
}

/* Hide scrollbar for categories bar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Custom searchbar styling */
.searchbar-custom {
  --background: #f3f4f6;
  --border-radius: 8px;
  --box-shadow: none;
  --placeholder-color: #9ca3af;
  --icon-color: #6b7280;
}

.dark .searchbar-custom {
  --background: #1f2937; /* gray-800 for dark mode */
  --placeholder-color: #6b7280;
  --icon-color: #9ca3af;
}

/* Compact searchbar for header */
.searchbar-compact {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.searchbar-compact .searchbar-input-container {
  padding-left: 0 !important;
}

/* Global button border radius */
ion-button {
  --border-radius: 8px;
  --box-shadow: none !important;
  box-shadow: none !important;
}

ion-button .button-native {
  border-radius: 8px;
  box-shadow: none !important;
}

/* Remove box shadow from all button variants */
ion-button.button-solid,
ion-button.button-outline,
ion-button.button-clear,
:host(.button-solid),
:host(.button-outline),
:host(.button-clear) {
  --box-shadow: none !important;
  box-shadow: none !important;
}

ion-button.button-solid .button-native,
ion-button.button-outline .button-native,
ion-button.button-clear .button-native {
  box-shadow: none !important;
}

/* Button color themes - lighter, softer colors */
.button-primary {
  --background: #fcdb6f; /* primary-300 - lighter yellow */
  --background-activated: #f7b801; /* primary-500 */
  --background-hover: #fbcf3f; /* primary-400 */
  --color: #000000;
  --color-activated: #000000;
  --color-hover: #000000;
  --border-radius: 8px;
}

/* Hover state - maintain text color (prevent any color change) */
/* Light mode: black text on yellow background */
ion-button.button-primary:hover .button-native,
ion-button.button-primary:hover .button-inner,
ion-button.button-primary:hover button,
ion-button.button-primary:focus .button-native,
ion-button.button-primary:focus .button-inner,
ion-button.button-primary:focus button {
  color: #000000 !important;
}

ion-button.button-primary:hover span,
ion-button.button-primary:hover ion-icon,
ion-button.button-primary:hover .button-native span,
ion-button.button-primary:hover .button-inner span,
ion-button.button-primary:hover button span,
ion-button.button-primary:focus span,
ion-button.button-primary:focus ion-icon,
ion-button.button-primary:focus .button-native span,
ion-button.button-primary:focus .button-inner span,
ion-button.button-primary:focus button span {
  color: #000000 !important;
}

/* Dark mode: maintain current color (don't force black) */
.dark ion-button.button-primary:hover .button-native,
.dark ion-button.button-primary:hover .button-inner,
.dark ion-button.button-primary:hover button,
.dark ion-button.button-primary:focus .button-native,
.dark ion-button.button-primary:focus .button-inner,
.dark ion-button.button-primary:focus button {
  color: inherit !important;
}

.dark ion-button.button-primary:hover span,
.dark ion-button.button-primary:hover ion-icon,
.dark ion-button.button-primary:hover .button-native span,
.dark ion-button.button-primary:hover .button-inner span,
.dark ion-button.button-primary:hover button span,
.dark ion-button.button-primary:focus span,
.dark ion-button.button-primary:focus ion-icon,
.dark ion-button.button-primary:focus .button-native span,
.dark ion-button.button-primary:focus .button-inner span,
.dark ion-button.button-primary:focus button span {
  color: inherit !important;
}

.button-primary:hover,
.button-primary:focus {
  color: #000000 !important;
}

.button-primary:hover ion-icon,
.button-primary:focus ion-icon {
  color: #000000 !important;
}

.button-primary:hover span,
.button-primary:focus span {
  color: #000000 !important;
}

/* Dark mode: don't force black text */
.dark .button-primary:hover,
.dark .button-primary:focus {
  color: inherit !important;
}

.dark .button-primary:hover ion-icon,
.dark .button-primary:focus ion-icon {
  color: inherit !important;
}

.dark .button-primary:hover span,
.dark .button-primary:focus span {
  color: inherit !important;
}

.button-secondary {
  --background: #c59301; /* primary-600 */
  --background-activated: #f18701; /* secondary-500 */
  --background-hover: #f7b801; /* primary-500 */
  --color: #000000;
  --color-activated: #000000;
  --color-hover: #000000;
  --border-radius: 8px;
}

.button-secondary:hover,
.button-secondary:focus {
  color: #000000 !important;
}

.button-secondary:hover ion-icon,
.button-secondary:focus ion-icon {
  color: #000000 !important;
}

.button-secondary:hover span,
.button-secondary:focus span {
  color: #000000 !important;
}

.button-blue {
  --background: #42a5f5; /* blue-400 - lighter blue */
  --background-activated: #1e88e5; /* blue-600 */
  --background-hover: #64b5f6; /* blue-300 */
  --color: #ffffff;
  --color-activated: #ffffff;
  --color-hover: #ffffff;
  --border-radius: 8px;
}

.button-blue:hover,
.button-blue:focus {
  color: #ffffff !important;
}

.button-red {
  --background: #6b7280; /* gray-500 - subtle gray instead of red */
  --background-activated: #4b5563; /* gray-600 */
  --background-hover: #9ca3af; /* gray-400 */
  --color: #ffffff;
  --color-activated: #ffffff;
  --color-hover: #ffffff;
  --border-radius: 8px;
}

.button-red:hover,
.button-red:focus {
  color: #ffffff !important;
}

.button-red:hover ion-icon,
.button-red:focus ion-icon {
  color: #ffffff !important;
}

.button-red:hover span,
.button-red:focus span {
  color: #ffffff !important;
}

/* Theme toggle button */
.theme-toggle {
  --color: var(--ion-text-color);
}

/* Ensure button text doesn't change color on hover */
ion-button.button-primary:hover,
ion-button.button-primary:focus {
  --color: #000000 !important;
  color: #000000 !important;
}

ion-button.button-primary:hover span,
ion-button.button-primary:focus span,
ion-button.button-primary:hover ion-icon,
ion-button.button-primary:focus ion-icon {
  color: #000000 !important;
}

/* Dark mode: maintain current color */
.dark ion-button.button-primary:hover,
.dark ion-button.button-primary:focus {
  --color: inherit !important;
  color: inherit !important;
}

.dark ion-button.button-primary:hover span,
.dark ion-button.button-primary:focus span,
.dark ion-button.button-primary:hover ion-icon,
.dark ion-button.button-primary:focus ion-icon {
  color: inherit !important;
}

/* More specific targeting for spans inside button structure */
ion-button.button-primary:hover .button-native span,
ion-button.button-primary:focus .button-native span,
ion-button.button-primary:hover .button-inner span,
ion-button.button-primary:focus .button-inner span,
ion-button.button-primary:hover button span,
ion-button.button-primary:focus button span,
ion-button.button-primary:hover::part(native) span,
ion-button.button-primary:focus::part(native) span {
  color: #000000 !important;
}

/* Dark mode: maintain current color */
.dark ion-button.button-primary:hover .button-native span,
.dark ion-button.button-primary:focus .button-native span,
.dark ion-button.button-primary:hover .button-inner span,
.dark ion-button.button-primary:focus .button-inner span,
.dark ion-button.button-primary:hover button span,
.dark ion-button.button-primary:focus button span,
.dark ion-button.button-primary:hover::part(native) span,
.dark ion-button.button-primary:focus::part(native) span {
  color: inherit !important;
}

ion-button.button-secondary:hover,
ion-button.button-secondary:focus {
  --color: #000000 !important;
  color: #000000 !important;
}

ion-button.button-secondary:hover span,
ion-button.button-secondary:focus span,
ion-button.button-secondary:hover ion-icon,
ion-button.button-secondary:focus ion-icon {
  color: #000000 !important;
}

/* Ensure button-blue and button-red maintain white text and background in light mode */
ion-button.button-blue {
  --background: #42a5f5 !important; /* blue-400 - lighter */
  --background-activated: #1e88e5 !important; /* blue-600 */
  --background-hover: #64b5f6 !important; /* blue-300 */
  --color: #ffffff !important;
  --border-radius: 8px !important;
}

ion-button.button-blue .button-native {
  border-radius: 8px !important;
}

ion-button.button-blue .button-native,
ion-button.button-blue .button-inner,
ion-button.button-blue:hover .button-native,
ion-button.button-blue:hover .button-inner,
ion-button.button-blue:focus .button-native,
ion-button.button-blue:focus .button-inner {
  --color: #ffffff !important;
  color: #ffffff !important;
}

ion-button.button-blue span,
ion-button.button-blue ion-icon,
ion-button.button-blue:hover span,
ion-button.button-blue:hover ion-icon,
ion-button.button-blue:focus span,
ion-button.button-blue:focus ion-icon,
ion-button.button-blue .button-native span,
ion-button.button-blue .button-inner span,
ion-button.button-blue .button-native ion-icon,
ion-button.button-blue .button-inner ion-icon {
  color: #ffffff !important;
}

ion-button.button-red {
  --background: #6b7280 !important; /* gray-500 - subtle gray instead of red */
  --background-activated: #4b5563 !important; /* gray-600 */
  --background-hover: #9ca3af !important; /* gray-400 */
  --color: #ffffff !important;
  --border-radius: 8px !important;
}

ion-button.button-red .button-native {
  border-radius: 8px !important;
}

ion-button.button-red .button-native,
ion-button.button-red .button-inner,
ion-button.button-red:hover .button-native,
ion-button.button-red:hover .button-inner,
ion-button.button-red:focus .button-native,
ion-button.button-red:focus .button-inner {
  --color: #ffffff !important;
  color: #ffffff !important;
}

ion-button.button-red span,
ion-button.button-red ion-icon,
ion-button.button-red:hover span,
ion-button.button-red:hover ion-icon,
ion-button.button-red:focus span,
ion-button.button-red:focus ion-icon,
ion-button.button-red .button-native span,
ion-button.button-red .button-inner span,
ion-button.button-red .button-native ion-icon,
ion-button.button-red .button-inner ion-icon {
  color: #ffffff !important;
}

/* Custom input and textarea padding for Ionic components */
/* Reduced padding to prevent placeholder cutoff */
ion-input {
  --padding-start: 0.25rem !important;
  --padding-end: 0.25rem !important;
  --padding-top: 0.5rem !important;
  --padding-bottom: 0.5rem !important;
  flex: 1 1 auto !important;
  min-width: 0 !important;
}

ion-input input,
ion-input .native-input {
  padding-left: 0.25rem !important;
  padding-right: 0.25rem !important;
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
  width: 100% !important;
}

/* Ensure IonItem has proper spacing for inputs */
ion-item {
  --inner-padding-end: 0.5rem !important;
  --inner-padding-start: 0.5rem !important;
}

ion-item ion-input {
  flex: 1 1 auto !important;
  min-width: 0 !important;
  width: 100% !important;
}

ion-textarea {
  --padding-start: 0.5rem !important;
  --padding-end: 0.5rem !important;
  --padding-top: 0.5rem !important;
  --padding-bottom: 0.5rem !important;
}

ion-textarea textarea,
ion-textarea .native-textarea {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  padding-top: 0.5rem !important;
  padding-bottom: 0.5rem !important;
}

/* Target Ionic's internal button structure - ONLY on hover */
ion-button.button-primary:hover::part(native),
ion-button.button-primary:hover button,
ion-button.button-primary:focus::part(native),
ion-button.button-primary:focus button {
  color: #000000 !important;
}

ion-button.button-primary:hover .button-native,
ion-button.button-primary:focus .button-native {
  color: #000000 !important;
}

ion-button.button-primary:hover .button-inner,
ion-button.button-primary:focus .button-inner {
  color: #000000 !important;
}

/* Dark mode: maintain current color */
.dark ion-button.button-primary:hover::part(native),
.dark ion-button.button-primary:hover button,
.dark ion-button.button-primary:focus::part(native),
.dark ion-button.button-primary:focus button {
  color: inherit !important;
}

.dark ion-button.button-primary:hover .button-native,
.dark ion-button.button-primary:focus .button-native {
  color: inherit !important;
}

.dark ion-button.button-primary:hover .button-inner,
.dark ion-button.button-primary:focus .button-inner {
  color: inherit !important;
}

ion-button.button-secondary:hover::part(native),
ion-button.button-secondary:hover button,
ion-button.button-secondary:focus::part(native),
ion-button.button-secondary:focus button {
  color: #ffffff !important;
}

ion-button.button-secondary:hover .button-native,
ion-button.button-secondary:focus .button-native {
  color: #ffffff !important;
}

ion-button.button-secondary:hover .button-inner,
ion-button.button-secondary:focus .button-inner {
  color: #ffffff !important;
}

ion-button.button-red:hover::part(native),
ion-button.button-red:hover button,
ion-button.button-red:focus::part(native),
ion-button.button-red:focus button {
  color: #ffffff !important;
}

ion-button.button-red:hover .button-native,
ion-button.button-red:focus .button-native {
  color: #ffffff !important;
}

ion-button.button-red:hover .button-inner,
ion-button.button-red:focus .button-inner {
  color: #ffffff !important;
}

/* Beautiful Accordion Styling */
ion-accordion {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  border-bottom: 1px solid rgba(229, 231, 235, 0.5);
}

.dark ion-accordion {
  border-bottom: 1px solid rgba(55, 65, 81, 0.5);
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
}

ion-accordion ion-item {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  --background-focused: transparent !important;
  --padding-start: 1rem;
  --padding-end: 1rem;
  --min-height: 3.5rem;
  border-radius: 8px;
  margin: 0.5rem;
  transition: all 0.2s ease;
}

ion-accordion ion-item::part(native) {
  background: transparent !important;
}

ion-accordion ion-item:hover {
  background: transparent !important;
}

ion-accordion ion-item.ion-activated,
ion-accordion ion-item.ion-focused {
  --background: transparent !important;
  background: transparent !important;
}

.dark ion-accordion ion-item {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  --background-focused: transparent !important;
}

.dark ion-accordion ion-item::part(native) {
  background: transparent !important;
}

.dark ion-accordion ion-item:hover {
  background: transparent !important;
}

.dark ion-accordion ion-item.ion-activated,
.dark ion-accordion ion-item.ion-focused {
  --background: transparent !important;
  background: transparent !important;
}

ion-accordion ion-item[slot="header"] {
  cursor: pointer;
}

ion-accordion-group {
  border-radius: 8px;
  overflow: hidden;
  --background: transparent !important;
}

/* Accordion content styling */
ion-accordion div[slot="content"] {
  background: transparent;
  padding: 1rem;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Override Ionic's default font-weight for market card titles */
ion-card-content h3 {
  font-weight: 700 !important;
}

/* Notification popover width override - force width using Ionic CSS variables */
.notification-popover {
  --width: 500px !important;
  --min-width: 500px !important;
}

.notification-popover-content {
  width: 500px !important;
  min-width: 500px !important;
}

/* Force text color on specific child elements for button-primary (hover only) */
ion-button.button-primary:hover .button-native,
ion-button.button-primary:focus .button-native,
ion-button.button-primary:hover .button-inner,
ion-button.button-primary:focus .button-inner,
ion-button.button-primary:hover .button-native *,
ion-button.button-primary:focus .button-native *,
ion-button.button-primary:hover .button-inner *,
ion-button.button-primary:focus .button-inner * {
  color: #000000 !important;
}

/* Dark mode: maintain current color */
.dark ion-button.button-primary:hover .button-native,
.dark ion-button.button-primary:focus .button-native,
.dark ion-button.button-primary:hover .button-inner,
.dark ion-button.button-primary:focus .button-inner,
.dark ion-button.button-primary:hover .button-native *,
.dark ion-button.button-primary:focus .button-native *,
.dark ion-button.button-primary:hover .button-inner *,
.dark ion-button.button-primary:focus .button-inner * {
  color: inherit !important;
}

/* Force text color on specific child elements for button-secondary (wallet button) */
ion-button.button-secondary {
  --background: #f18701 !important;
  --background-activated: #c16c01 !important;
  --background-hover: #f9b76f !important;
  --color: #ffffff !important;
  --border-radius: 8px !important;
}

ion-button.button-secondary .button-native {
  border-radius: 8px !important;
}

ion-button.button-secondary .button-native,
ion-button.button-secondary .button-inner,
ion-button.button-secondary:hover .button-native,
ion-button.button-secondary:hover .button-inner,
ion-button.button-secondary:focus .button-native,
ion-button.button-secondary:focus .button-inner {
  --color: #ffffff !important;
  color: #ffffff !important;
}

ion-button.button-secondary span,
ion-button.button-secondary ion-icon,
ion-button.button-secondary:hover span,
ion-button.button-secondary:hover ion-icon,
ion-button.button-secondary:focus span,
ion-button.button-secondary:focus ion-icon,
ion-button.button-secondary .button-native span,
ion-button.button-secondary .button-inner span,
ion-button.button-secondary .button-native ion-icon,
ion-button.button-secondary .button-inner ion-icon {
  color: #ffffff !important;
}

/* Force text color on specific child elements for button-red (hover only) */
ion-button.button-red:hover .button-native,
ion-button.button-red:focus .button-native,
ion-button.button-red:hover .button-inner,
ion-button.button-red:focus .button-inner {
  color: #ffffff !important;
}

/* Beautiful Accordion Styling */
ion-accordion {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  border-bottom: 1px solid rgba(229, 231, 235, 0.5);
}

.dark ion-accordion {
  border-bottom: 1px solid rgba(55, 65, 81, 0.5);
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
}

ion-accordion ion-item {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  --background-focused: transparent !important;
  --padding-start: 1rem;
  --padding-end: 1rem;
  --min-height: 3.5rem;
  border-radius: 8px;
  margin: 0.5rem;
  transition: all 0.2s ease;
}

ion-accordion ion-item::part(native) {
  background: transparent !important;
}

ion-accordion ion-item:hover {
  background: transparent !important;
}

ion-accordion ion-item.ion-activated,
ion-accordion ion-item.ion-focused {
  --background: transparent !important;
  background: transparent !important;
}

.dark ion-accordion ion-item {
  --background: transparent !important;
  --background-hover: transparent !important;
  --background-activated: transparent !important;
  --background-focused: transparent !important;
}

.dark ion-accordion ion-item::part(native) {
  background: transparent !important;
}

.dark ion-accordion ion-item:hover {
  background: transparent !important;
}

.dark ion-accordion ion-item.ion-activated,
.dark ion-accordion ion-item.ion-focused {
  --background: transparent !important;
  background: transparent !important;
}

ion-accordion ion-item[slot="header"] {
  cursor: pointer;
}

ion-accordion-group {
  border-radius: 8px;
  overflow: hidden;
  --background: transparent !important;
}

/* Accordion content styling */
ion-accordion div[slot="content"] {
  background: transparent;
  padding: 1rem;
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Override Ionic's default font-weight for market card titles */
ion-card-content h3 {
  font-weight: 700 !important;
}

/* Notification popover width override - force width using Ionic CSS variables */
.notification-popover {
  --width: 500px !important;
  --min-width: 500px !important;
}

.notification-popover-content {
  width: 500px !important;
  min-width: 500px !important;
}
